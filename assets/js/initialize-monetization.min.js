/*! Coil for WordPress v1.0.0-beta.3 Saturday 26th October 2019 02:08:24 AM GMT+0200 */
!function(a){var e=coil_params.coil_for_wp_version,i=coil_params.content_container,t=coil_params.verifying_browser_extension,n=coil_params.browser_extension_missing,s=coil_params.verifying_coil_account,l=coil_params.unable_to_verify,c=coil_params.unable_to_verify_hidden,r=coil_params.loading_content,d=coil_params.admin_missing_id_notice,m=coil_params.post_excerpt;if("undefined"==typeof coil_params)return;a(document).ready(function(){console.log("Coil for WordPress version: "+e);var o=void 0!==i&&""!==i?i:".content-area .entry-content";if(a("body").hasClass("monetization-not-initialized"))if(console.log('Content Container is: "'+o+'"'),a("body").hasClass("coil-gate-all")&&void 0!==m&&a(o).before('<div class="entry-content coil-post-excerpt"><p>'+m+"</p></div>"),a("body").hasClass("coil-no-gating")||".content-area .entry-content"===o||(a(o).not(".coil-post-excerpt").hide(),console.log("Hidden content until verification with Coil.")),document.monetization){if("pending"===document.monetization.state){if(a("body").hasClass("coil-missing-id"))a("body").hasClass("coil-show-admin-notice")?a(o).before('<p class="monetize-msg">'+d+"</p>"):a("body").removeClass("coil-missing-id"),a("body").hasClass("coil-no-gating")||".content-area .entry-content"===o||(a(o).css("display",""),a(o+"*.coil-hide-monetize-users").css("display","none"),a(o+"*.coil-show-monetize-users").css("display","none")),a("body").trigger("coil-missing-id"),console.log("Payment pointer ID is missing.");else if(!a("body").hasClass("coil-no-gating")){a("body").hasClass("coil-gate-all")?"undefined"!==m?a(o).before('<p class="monetize-msg">'+t+"</p>"):a("div.coil-post-excerpt").after('<p class="monetize-msg">'+t+"</p>"):a(o).before('<p class="monetize-msg">'+t+"</p>");a("p.monetize-msg");setTimeout(function(){a("p.monetize-msg").html(s),console.log("Verifying subscribers Coil account.")},2e3),setTimeout(function(){0<a("p.monetize-msg").length&&(a("p.monetize-msg").remove(),a("body").hasClass("coil-gate-all")?a("div.coil-post-excerpt").after('<p class="monetize-failed">'+l+"</p>"):a("body").hasClass("coil-gate-tagged-blocks")?(a("body").addClass("coil-split"),a(o).css("display",""),a(o).before('<p class="monetize-failed">'+c+"</p>"),console.log("Only free content is shown if article is split.")):a(o).before('<p class="monetize-failed">'+l+"</p>"),console.log("Unable to verify Coil account."))},5e3)}}else"started"===document.monetization.state&&(console.log("Monetization started!"),a(o).before('<p class="monetize-msg">'+r+"</p>"));document.monetization.addEventListener("monetizationstart",function(e){e.detail.paymentPointer,e.detail.requestId;console.log(e.detail),monetizationStartEventOccurred=!0,console.log("Monetization has started. Yeah!"),a("body").hasClass("coil-no-gating")||".content-area .entry-content"===o||a(o).css("display",""),a("body").removeClass("monetization-not-initialized").addClass("monetization-initialized"),a("p.monetize-msg").remove(),a("div.coil-post-excerpt").remove(),document.querySelectorAll("iframe, object, video").forEach(function(e){if(e.classList.contains("intrinsic-ignore")||e.parentNode.classList.contains("intrinsic-ignore"))return!0;e.dataset.origwidth||(e.setAttribute("data-origwidth",e.width),e.setAttribute("data-origheight",e.height))}),a("body").trigger("coil-monetization-initialized",[e])}),document.monetization.addEventListener("monetizationprogress",function(e){var o=e.detail.paymentPointer,i=e.detail.requestId,t=e.detail.amount,n=e.detail.assetCode,s=e.detail.assetScale;console.log("monetizationprogress",e),a("body").trigger("coil-monetization-progress",[e,o,i,t,n,s])})}else a("body").removeClass("monetization-not-initialized").addClass("coil-extension-not-found"),a("body").hasClass("coil-gate-all")?a("div.coil-post-excerpt").after('<p class="monetize-msg">'+n+"</p>"):a(o).before('<p class="monetize-msg">'+n+"</p>"),a("body").hasClass("coil-no-gating")||".content-area .entry-content"===o||(a(o).css("display",""),a(o+"*.coil-hide-monetize-users").css("display","none"),a(o+"*.coil-show-monetize-users").css("display","none")),a("body").trigger("coil-extension-not-found"),console.log("Browser extension not found.")})}(jQuery);