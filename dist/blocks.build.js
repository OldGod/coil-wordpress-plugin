!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return"undefined"!==typeof e.attributes&&(e.attributes=Object.assign(e.attributes,{monetizeBlockDisplay:{type:"string",default:"always-show"}})),e}function l(e,t,n){var o=n.monetizeBlockDisplay;return"undefined"!==typeof o&&"always-show"!==o&&(e.className=a()(e.className,"coil-"+o)),e}var r=n(2),a=n.n(r),s=n(3),c=(n.n(s),n(4)),u=(n.n(c),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}),__=wp.i18n.__,p=wp.hooks.addFilter,m=wp.element.Fragment,d=wp.blockEditor.InspectorControls,f=wp.data,b=f.withSelect,w=f.withDispatch,y=wp.compose.createHigherOrderComponent,h=wp.components,_=h.PanelBody,g=h.RadioControl,z=wp.plugins.registerPlugin,v=wp.editPost.PluginDocumentSettingPanel,k=wp.nux.DotTip,P=y(function(e){return function(t){var n=!1,o=(t.name,t.attributes),i=t.setAttributes,l=t.isSelected,r=o.monetizeBlockDisplay,a=wp.data.select("core/editor").getEditedPostAttribute("meta");return n="undefined"===typeof a._coil_monetize_post_status||"undefined"!==typeof a._coil_monetize_post_status&&"gate-tagged-blocks"===a._coil_monetize_post_status,wp.element.createElement(m,null,wp.element.createElement(e,t),l&&n&&wp.element.createElement(d,null,wp.element.createElement(_,{title:__("Web Monetization - Coil"),initialOpen:!1,className:"coil-panel"},k&&wp.element.createElement(k,{tipId:"coil/editor.panel_monetize_block"},__("As you have set the article to monetize by split content, you have the option to show this block for all or show/hide for subscribers only.")),wp.element.createElement(g,{selected:r,options:[{label:__("Always show"),value:"always-show"},{label:__("Show for monetized users"),value:"show-monetize-users"},{label:__("Hide for monetized users"),value:"hide-monetize-users"}],help:__("Set the visibility based on the monetization you prefer."),onChange:function(e){return i({monetizeBlockDisplay:e})}}))))}},"monetizeBlockControls"),E=y(function(e){return function(t){var n=t.wrapperProps,o={},i=!1,l=t.attributes,r=l.monetizeBlockDisplay,a=wp.data.select("core/editor").getEditedPostAttribute("meta");return i="undefined"===typeof a._coil_monetize_post_status||"undefined"!==typeof a._coil_monetize_post_status&&"gate-tagged-blocks"===a._coil_monetize_post_status,o=Object.assign(o,{"data-coil-is-monetized":1}),n=Object.assign({},n,o),"undefined"!==typeof r&&"always-show"!==r&&i?wp.element.createElement(e,u({},t,{className:"coil-"+r,wrapperProps:n})):wp.element.createElement(e,t)}},"wrapperClass");p("blocks.registerBlockType","coil/addAttributes",i),p("editor.BlockEdit","coil/monetizeBlockControls",P),p("blocks.getSaveContent.extraProps","coil/applyExtraClass",l),p("editor.BlockListBlock","coil/wrapperClass",E);var O=w(function(e,t){return{updateMetaValue:function(n){e("core/editor").editPost({meta:o({},t.metaFieldName,n)})}}})(b(function(e,t){return o({},t.metaFieldName,e("core/editor").getEditedPostAttribute("meta")._coil_monetize_post_status)})(function(e){return wp.element.createElement(g,{selected:e[e.metaFieldName]?e[e.metaFieldName]:"no",options:[{label:__("No Monetization","coil-monetize-content"),value:"no"},{label:__("Monetized and Public","coil-monetize-content"),value:"no-gating"},{label:__("Subscribers Only","coil-monetize-content"),value:"gate-all"},{label:__("Split Content","coil-monetize-content"),value:"gate-tagged-blocks"}],help:__("Set the type of monetization for the article."),onChange:function(t){return e.updateMetaValue(t)}})}));v&&z("coil-document-setting-panel",{render:function(){return wp.element.createElement(v,{name:"coil-meta",title:__("Web Monetization - Coil","coil-monetize-content"),initialOpen:!1,className:"coil-document-panel"},wp.element.createElement(O,{metaFieldName:"_coil_monetize_post_status"}),k&&wp.element.createElement(k,{tipId:"coil/editor.panel_monetize_post_status"},__('When creating an article, you can decide whether to monetize it or not. There are three options you can monetize your content for. "Monetized and Public", "Subscribers Only" or by "Split Content", which allows you to control which blocks can be seen to the public or subscribers.')))},icon:""})},function(e,t,n){var o,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var r=n.apply(null,o);r&&e.push(r)}else if("object"===i)for(var a in o)l.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var l={}.hasOwnProperty;"undefined"!==typeof e&&e.exports?(n.default=n,e.exports=n):(o=[],void 0!==(i=function(){return n}.apply(t,o))&&(e.exports=i))}()},function(e,t){},function(e,t){}]);